# 은평구 소비쿠폰 가맹점 위치 검색 시스템 테스트 케이스

## 1. 데이터 로드 및 캐싱 테스트

### 1.1 엑셀 파일 업로드 테스트
- **TC001**: 유효한 .xlsx 파일 업로드
  - 기대 결과: 파일이 성공적으로 파싱되고 가맹점 목록이 표시됨
  
- **TC002**: 유효한 .xls 파일 업로드
  - 기대 결과: 파일이 성공적으로 파싱되고 가맹점 목록이 표시됨
  
- **TC003**: 10MB 초과 파일 업로드
  - 기대 결과: "파일 크기는 10MB를 초과할 수 없습니다." 에러 메시지 표시
  
- **TC004**: 비엑셀 파일 업로드 (.pdf, .txt 등)
  - 기대 결과: "엑셀 파일(.xlsx, .xls)만 업로드 가능합니다." 에러 메시지 표시
  
- **TC005**: 다중 시트 엑셀 파일 업로드
  - 기대 결과: 모든 시트의 데이터가 읽혀지고 행정동별로 구분됨

### 1.2 IndexedDB 캐싱 테스트
- **TC006**: 엑셀 파일 업로드 후 캐시 저장
  - 기대 결과: IndexedDB에 가맹점 정보가 저장됨
  
- **TC007**: 페이지 새로고침 후 캐시 자동 로드
  - 기대 결과: 엑셀 파일 없이도 지도와 가맹점 목록이 표시됨
  
- **TC008**: 캐시 삭제 기능
  - 기대 결과: 캐시가 삭제되고 업로드 섹션으로 돌아감
  
- **TC009**: 구버전 캐시 마이그레이션
  - 기대 결과: EunpyeongStoreDB의 데이터가 StoreLocationCache로 자동 마이그레이션됨

## 2. 지도 기능 테스트

### 2.1 기본 지도 기능
- **TC010**: 지도 초기화
  - 기대 결과: 은평구 중심 좌표(37.6176, 126.9227)로 지도 표시
  
- **TC011**: 줌 인/아웃 컨트롤
  - 기대 결과: 줌 레벨 변경 가능
  
- **TC012**: 현재 위치 표시
  - 기대 결과: 사용자의 현재 위치가 마커로 표시됨

### 2.2 마커 표시
- **TC013**: 위치 정보가 있는 가맹점 마커 표시
  - 기대 결과: 각 가맹점 위치에 마커가 표시됨
  
- **TC014**: 같은 위치 가맹점 그룹화
  - 기대 결과: 동일 좌표의 가맹점들이 숫자로 표시됨
  
- **TC015**: 마커 클러스터링 (줌 레벨 3 이상)
  - 기대 결과: 가까운 마커들이 클러스터로 묶여 표시됨

### 2.3 정보 표시
- **TC016**: 단일 마커 클릭
  - 기대 결과: 가맹점 정보 팝업 표시 (상호, 주소, 카테고리)
  
- **TC017**: 그룹화된 마커 클릭
  - 기대 결과: 그룹화된 가맹점 목록 팝업 표시

## 3. 검색 기능 테스트

### 3.1 현 지도에서 검색
- **TC018**: 현 지도 영역에서 카카오맵 API로 장소 검색
  - 기대 결과: 지도 영역 내 장소를 검색하여 엑셀 데이터와 매칭
  
- **TC019**: 카테고리별 검색 (편의점, 음식점 등)
  - 기대 결과: 각 카테고리의 장소가 검색되고 매칭됨
  
- **TC020**: 상호명 정규화 매칭
  - 기대 결과: 특수문자, 공백이 제거된 상태로 매칭 (예: "GS25 은평점" = "gs25은평점")
  
- **TC021**: 은평구 외 지역 필터링
  - 기대 결과: 은평구 내 장소만 매칭 결과에 포함
  
- **TC022**: 거리 정보 계산
  - 기대 결과: 각 매칭된 가맹점에 지도 중심점 기준 거리(m) 표시

### 3.2 개별 가맹점 검색
- **TC023**: 가맹점 목록에서 클릭하여 위치 검색
  - 기대 결과: "서울 은평구 [행정동] [상호명]"으로 검색 수행
  
- **TC024**: 검색 결과 캐싱
  - 기대 결과: 한 번 검색된 위치는 IndexedDB에 저장

### 3.3 전체 위치 표시
- **TC025**: 모든 캐시된 위치 표시
  - 기대 결과: 위치 정보가 있는 모든 가맹점이 지도에 표시
  
- **TC026**: 지도 영역 자동 조정
  - 기대 결과: 모든 마커가 보이도록 지도 bounds 조정

## 4. 필터링 및 정렬 테스트

### 4.1 필터링
- **TC027**: 텍스트 검색 필터
  - 기대 결과: 상호명에 검색어가 포함된 가맹점만 표시
  
- **TC028**: 행정동 필터
  - 기대 결과: 선택한 행정동의 가맹점만 표시
  
- **TC029**: 카테고리 단일 선택 (드롭다운)
  - 기대 결과: 선택한 카테고리의 가맹점만 표시
  
- **TC030**: 카테고리 다중 선택 (체크박스)
  - 기대 결과: 선택한 카테고리들의 가맹점이 모두 표시

### 4.2 정렬
- **TC031**: 거리순 정렬 활성화
  - 기대 결과: "현 지도에서 검색" 후 거리 헤더가 나타남
  
- **TC032**: 거리 오름차순 정렬
  - 기대 결과: 가까운 가맹점부터 순서대로 표시
  
- **TC033**: 거리 내림차순 정렬
  - 기대 결과: 먼 가맹점부터 순서대로 표시
  
- **TC034**: 거리 정보가 있는 항목 우선 표시
  - 기대 결과: 거리 정보가 있는 가맹점이 상단에 표시

## 5. UI/UX 테스트

### 5.1 테이블 표시
- **TC035**: 가맹점 정보 표시
  - 기대 결과: 행정동, 상호, 카테고리, 주소, 상태가 올바르게 표시
  
- **TC036**: 거리 정보 표시
  - 기대 결과: "현 지도에서 검색" 후 거리(m) 컬럼 추가
  
- **TC037**: 페이지네이션 (10, 25, 50, 100개)
  - 기대 결과: 선택한 개수만큼 테이블에 표시
  
- **TC038**: 가맹점 클릭 시 지도 이동
  - 기대 결과: 해당 가맹점 위치로 지도 이동 및 정보창 표시

### 5.2 상태 표시
- **TC039**: 미검색 상태
  - 기대 결과: 회색 "미검색" 배지 표시
  
- **TC040**: 위치 찾음 상태
  - 기대 결과: 초록색 "검색완료" 배지 표시
  
- **TC041**: 위치 못찾음 상태
  - 기대 결과: 빨간색 "위치없음" 배지 표시

### 5.3 통계 정보
- **TC042**: 전체 가맹점 수 표시
  - 기대 결과: 정확한 가맹점 총 개수 표시
  
- **TC043**: 행정동 수 표시
  - 기대 결과: 중복 제거된 행정동 개수 표시
  
- **TC044**: 검색 성공/실패 수 표시
  - 기대 결과: 위치를 찾은/못찾은 가맹점 수 표시

## 6. 모바일 지원 테스트

- **TC045**: 반응형 디자인
  - 기대 결과: 모바일 화면에서 UI가 적절히 조정됨
  
- **TC046**: 전체화면 토글
  - 기대 결과: 전체화면 버튼 클릭 시 지도가 전체화면으로 전환
  
- **TC047**: 터치 이벤트
  - 기대 결과: 터치로 지도 조작 및 마커 클릭 가능

## 7. 성능 테스트

- **TC048**: 대량 데이터 로드 (17,097개 가맹점)
  - 기대 결과: 3초 이내에 데이터 로드 및 표시
  
- **TC049**: 검색 응답 시간
  - 기대 결과: "현 지도에서 검색" 클릭 후 10초 이내 결과 표시
  
- **TC050**: 페이지네이션 성능
  - 기대 결과: 페이지 전환 시 0.5초 이내 렌더링

## 8. 엣지 케이스 테스트

- **TC051**: 빈 엑셀 파일 업로드
  - 기대 결과: "데이터가 없습니다" 메시지 표시
  
- **TC052**: 잘못된 컬럼명 엑셀 파일
  - 기대 결과: 유연한 컬럼 매핑으로 정상 처리
  
- **TC053**: 네트워크 오류 시 재시도
  - 기대 결과: API 호출 실패 시 3회까지 재시도
  
- **TC054**: 중복 가맹점 처리
  - 기대 결과: 동일한 위치의 가맹점이 그룹화되어 표시
  
- **TC055**: 특수문자가 포함된 상호명 검색
  - 기대 결과: 정규화 후 정상적으로 매칭