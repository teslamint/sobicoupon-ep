# Security Policy

## 🔒 보안 정책

은평구 소비쿠폰 가맹점 위치 검색 시스템의 보안 정책입니다. 보안 취약점을 발견하시면 아래 가이드라인에 따라 신고해 주세요.

## 📋 지원되는 버전

현재 보안 업데이트를 제공하는 버전:

| 버전  | 지원 여부    |
| ----- | ------------ |
| 2.x.x | ✅ 지원      |
| 1.x.x | ❌ 지원 종료 |

## 🚨 보안 취약점 신고

### 신고 방법

보안 취약점을 발견하신 경우, 다음 방법으로 신고해 주세요:

1. **GitHub Security Advisory** (권장)
    - [GitHub Security Advisory](https://github.com/username/sobicoupon/security/advisories/new)를 통해 비공개로 신고

2. **이메일 신고**
    - 보안팀 이메일: `security@tmint.dev`
    - 제목: `[SECURITY] 은평구 소비쿠폰 취약점 신고`

### 신고 시 포함해야 할 정보

- **취약점 유형**: XSS, CSRF, 인증 우회 등
- **영향 범위**: 어떤 기능/페이지가 영향을 받는지
- **재현 단계**: 취약점을 재현할 수 있는 상세한 단계
- **영향도**: 예상되는 보안 위험의 정도
- **PoC**: 가능한 경우 개념 증명 코드/스크린샷

### 신고 예시

```
취약점 유형: XSS (Cross-Site Scripting)
영향 범위: 가맹점 검색 결과 페이지
재현 단계:
1. 검색창에 '<script>alert("XSS")</script>' 입력
2. 검색 실행
3. 스크립트가 실행되는 것을 확인

영향도: 중간 - 사용자 세션 하이재킹 가능
```

## ⏱️ 대응 시간

| 심각도          | 최초 응답 | 수정 목표 |
| --------------- | --------- | --------- |
| 긴급 (Critical) | 24시간    | 7일       |
| 높음 (High)     | 72시간    | 30일      |
| 중간 (Medium)   | 1주일     | 90일      |
| 낮음 (Low)      | 2주일     | 180일     |

## 🎯 보안 중점 사항

### 데이터 보호

- **개인정보**: 이 시스템은 개인정보를 수집하지 않습니다
- **위치 정보**: 사용자 위치는 로컬에서만 처리되며 서버로 전송되지 않습니다
- **API 키**: 카카오맵 API 키는 환경변수로 관리되며 클라이언트에 노출되지 않습니다

### 인프라 보안

- **Cloudflare Workers**: 서버리스 환경에서 안전하게 배포
- **CSP 헤더**: Content Security Policy를 통한 XSS 방지
- **HTTPS**: 모든 통신은 HTTPS를 통해 암호화

### 클라이언트 보안

- **입력 검증**: 모든 사용자 입력에 대한 검증 및 이스케이프
- **DOM 조작**: 안전한 DOM 조작 방식 사용
- **외부 리소스**: 신뢰할 수 있는 외부 리소스만 로드

## 🔍 자동 보안 검사

이 프로젝트는 다음과 같은 자동 보안 검사를 수행합니다:

### GitHub Actions 워크플로우

- **CodeQL 분석**: 코드 취약점 정적 분석
- **의존성 감사**: `pnpm audit`를 통한 취약한 패키지 검사
- **Secret 스캔**: TruffleHog를 통한 하드코딩된 시크릿 검사
- **보안 헤더 검사**: 응답 헤더 보안 설정 확인

### 정기 검사

- **의존성 업데이트**: Dependabot을 통한 자동 의존성 업데이트
- **보안 패치**: 매주 월요일 자동 보안 스캔 실행

## 🚫 책임 있는 공개 (Responsible Disclosure)

보안 취약점을 신고해 주시는 분들께 다음을 약속드립니다:

### 우리의 약속

- ✅ 신고된 취약점을 진지하게 검토합니다
- ✅ 신고자의 개인정보를 보호합니다
- ✅ 수정 과정에서 신고자와 소통을 유지합니다
- ✅ 수정 완료 후 적절한 크레딧을 제공합니다

### 신고자에게 부탁드리는 사항

- ❌ 취약점을 공개적으로 노출하지 마세요 (수정 전까지)
- ❌ 다른 사용자의 데이터에 접근하지 마세요
- ❌ 서비스 가용성을 해치는 테스트는 피해주세요
- ❌ 물리적 공격이나 사회공학적 공격은 수행하지 마세요

## 🏆 Hall of Fame

보안 취약점을 신고해 주신 분들:

| 날짜 | 신고자 | 취약점 유형 | 심각도 |
| ---- | ------ | ----------- | ------ |
| -    | -      | -           | -      |

## 📚 보안 관련 문서

- [Content Security Policy (CSP) 설정](docs/security-csp.md)
- [보안 헤더 설정 가이드](docs/security-headers.md)
- [의존성 보안 관리](docs/security-dependencies.md)
- [GitHub Actions 보안 워크플로우](.github/workflows/security.yml)

## 🔄 정책 업데이트

이 보안 정책은 필요에 따라 업데이트될 수 있습니다. 주요 변경사항은 [CHANGELOG.md](CHANGELOG.md)에 기록됩니다.

---

**마지막 업데이트**: 2025년 8월 2일
**다음 검토 예정**: 2025년 11월 2일

보안과 관련된 질문이 있으시면 언제든지 연락해 주세요. 여러분의 협조로 더 안전한 서비스를 만들어 나갈 수 있습니다. 🛡️
