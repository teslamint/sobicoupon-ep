#!/usr/bin/env sh
# husky

echo "ğŸ” Running pre-commit checks..."

# Lint ì²´í¬ (ìˆ˜ì • ê°€ëŠ¥í•œ ê²½ìš° ìë™ ìˆ˜ì •)
echo "ğŸ“ Checking and fixing linting issues..."
pnpm run lint

# í¬ë§· ì²´í¬ (ìˆ˜ì • ê°€ëŠ¥í•œ ê²½ìš° ìë™ ìˆ˜ì •)
echo "ğŸ¨ Checking and fixing formatting..."
pnpm run format

# íƒ€ì… ì²´í¬
echo "ğŸ” Type checking..."
pnpm run type-check

# lintì™€ formatì—ì„œ ìˆ˜ì •ëœ staged íŒŒì¼ë“¤ë§Œ ë‹¤ì‹œ ì¶”ê°€
# (unstaged íŒŒì¼ì€ ì¶”ê°€í•˜ì§€ ì•ŠìŒ)
git diff --cached --name-only | xargs -r git add

echo "âœ… Pre-commit checks completed successfully!"
