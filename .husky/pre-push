#!/usr/bin/env sh
# husky

echo "ğŸ§ª Running pre-push checks..."

# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
echo "ğŸ”¬ Running unit tests..."
pnpm run test

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
echo "ğŸ—ï¸ Testing build process..."
pnpm run build

# E2E í…ŒìŠ¤íŠ¸ (CI í™˜ê²½ì—ì„œë§Œ, ë¡œì»¬ì—ì„œëŠ” ìŠ¤í‚µ)
if [ "$CI" = "true" ]; then
    echo "ğŸ­ Running E2E tests..."
    pnpm run test:e2e
else
    echo "â­ï¸ Skipping E2E tests (not in CI environment)"
fi

echo "âœ… Pre-push checks completed successfully!"